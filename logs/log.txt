[2025-05-03 08:15:02] - logger:_log - INFO - Logger initialized. Logs will be saved to C:\alkashef\GitHub\BorAI\logs\log.txt
[2025-05-03 08:15:04] - PngImagePlugin:call - DEBUG - STREAM b'IHDR' 16 13
[2025-05-03 08:15:04] - PngImagePlugin:call - DEBUG - STREAM b'IDAT' 41 5539
[2025-05-03 08:15:04] - PngImagePlugin:call - DEBUG - STREAM b'IHDR' 16 13
[2025-05-03 08:15:04] - PngImagePlugin:call - DEBUG - STREAM b'IDAT' 41 5539
[2025-05-03 08:15:04] - logger:_log - INFO - Initializing database connection at app startup
[2025-05-03 08:15:04] - logger:_log - INFO - TeradataDatabase instance initialized
[2025-05-03 08:15:04] - logger:_log - INFO - Operation 'Database connection' started - Details: {'host': 'raven-env-oe7lr1dbadydeuff.env.clearscape.teradata.com', 'database': 'raven'}
[2025-05-03 08:15:20] - logger:_log - INFO - Operation 'Database connection' completed
[2025-05-03 08:15:20] - logger:_log - INFO - Operation 'Schema retrieval' started
[2025-05-03 08:15:21] - logger:_log - DEBUG - Getting sample data for table: branches
[2025-05-03 08:15:21] - logger:_log - DEBUG - Getting sample data for table: transactions
[2025-05-03 08:15:22] - logger:_log - INFO - Operation 'Schema retrieval' completed - Details: {'tables_count': 2}
[2025-05-03 08:15:22] - logger:_log - INFO - Database connection established and schema cached at startup
[2025-05-03 08:15:22] - logger:_log - INFO - Model 'code-llama-7b-instruct' loading on GPU started
[2025-05-03 08:15:22] - logger:_log - INFO - Creating new NL2SQL instance
[2025-05-03 08:15:22] - logger:_log - INFO - Initializing NL2SQL with model path: ./models/code-llama-7b-instruct
[2025-05-03 08:15:22] - logger:_log - INFO - Loading prompt template from: ./prompt.txt
[2025-05-03 08:15:22] - logger:_log - DEBUG - Prompt template loaded successfully
[2025-05-03 08:15:22] - logger:_log - DEBUG - Returning cached schema
[2025-05-03 08:15:22] - logger:_log - INFO - Database schema cached during initialization
[2025-05-03 08:15:22] - logger:_log - INFO - Loading tokenizer from: ./models/code-llama-7b-instruct
[2025-05-03 08:15:22] - logger:_log - INFO - Tokenizer loaded successfully, proceeding with model loading
[2025-05-03 08:15:22] - logger:_log - INFO - Loading model on GPU
[2025-05-03 08:15:24] - logger:write - ERROR - The `load_in_4bit` and `load_in_8bit` arguments are deprecated and will be removed in the future versions. Please, pass a `BitsAndBytesConfig` object in `quantization_config` argument instead.
[2025-05-03 08:15:24] - cextension:get_native_library - DEBUG - Loading bitsandbytes native library from: C:\Users\aa186095\AppData\Local\anaconda3\envs\raven-env\Lib\site-packages\bitsandbytes\libbitsandbytes_cuda126.dll
[2025-05-03 08:15:24] - logger:flush - INFO - Application started. All messages are being logged to: C:\alkashef\GitHub\BorAI\logs\log.txt
[2025-05-03 08:15:24] - logger:flush - ERROR - Loading checkpoint shards:   0%|                                                          | 0/2 [00:00<?, ?it/s]
[2025-05-03 08:15:38] - logger:flush - ERROR - Loading checkpoint shards:  50%|#########################                         | 1/2 [00:13<00:13, 13.88s/it]
[2025-05-03 08:15:43] - logger:flush - ERROR - Loading checkpoint shards: 100%|##################################################| 2/2 [00:18<00:00,  8.62s/it]
[2025-05-03 08:15:43] - logger:flush - ERROR - Loading checkpoint shards: 100%|##################################################| 2/2 [00:18<00:00,  9.41s/it]
[2025-05-03 08:15:43] - logger:_log - INFO - Model loaded successfully on GPU
[2025-05-03 08:15:43] - logger:_log - INFO - Performing model warmup with query: 'how many branches are in texas?'
[2025-05-03 08:15:43] - logger:_log - INFO - Processing natural language query: how many branches are in texas?...
[2025-05-03 08:15:43] - logger:_log - DEBUG - Generating formatted prompt
[2025-05-03 08:15:43] - logger:_log - DEBUG - Generating prompt for question: how many branches are in texas?...
[2025-05-03 08:15:43] - logger:_log - DEBUG - Retrieved database schema with 128 tokens
[2025-05-03 08:15:43] - logger:_log - DEBUG - Tokenizing input
[2025-05-03 08:15:43] - logger:_log - DEBUG - Moving inputs to GPU
[2025-05-03 08:15:43] - logger:_log - INFO - Generating SQL with model
[2025-05-03 08:16:24] - logger:_log - DEBUG - Decoding model output
[2025-05-03 08:16:24] - logger:_log - DEBUG - Extracting SQL query from raw output
[2025-05-03 08:16:24] - logger:_log - DEBUG - Extracting SQL from model output
[2025-05-03 08:16:24] - logger:_log - DEBUG - Running Teradata-specific post-processing
[2025-05-03 08:16:24] - logger:_log - DEBUG - Applying Teradata post-processing to SQL query
[2025-05-03 08:16:24] - logger:_log - DEBUG - Teradata post-processing completed
[2025-05-03 08:16:24] - logger:_log - DEBUG - Successfully extracted SQL: SELECT COUNT(*) FROM raven.branches WHERE governor...
[2025-05-03 08:16:24] - logger:_log - INFO - Successfully generated SQL query: SELECT COUNT(*) FROM raven.branches WHERE governor...
[2025-05-03 08:16:24] - logger:_log - INFO - Model warmup completed in 40.39 seconds. Generated SQL: SELECT COUNT(*) FROM raven.branches WHERE governorate = 'Texas';
[2025-05-03 08:16:24] - logger:_log - INFO - Model 'code-llama-7b-instruct' loading on GPU completed
[2025-05-03 08:16:53] - PngImagePlugin:call - DEBUG - STREAM b'IHDR' 16 13
[2025-05-03 08:16:53] - PngImagePlugin:call - DEBUG - STREAM b'IDAT' 41 5539
[2025-05-03 08:16:53] - PngImagePlugin:call - DEBUG - STREAM b'IHDR' 16 13
[2025-05-03 08:16:53] - PngImagePlugin:call - DEBUG - STREAM b'IDAT' 41 5539
[2025-05-03 08:16:53] - PngImagePlugin:call - DEBUG - STREAM b'IHDR' 16 13
[2025-05-03 08:16:53] - PngImagePlugin:call - DEBUG - STREAM b'IDAT' 41 5539
[2025-05-03 08:16:53] - PngImagePlugin:call - DEBUG - STREAM b'IHDR' 16 13
[2025-05-03 08:16:53] - PngImagePlugin:call - DEBUG - STREAM b'IDAT' 41 5539
[2025-05-03 08:16:53] - logger:_log - INFO - Processing natural language query: what is the number of deposits in ohio?...
[2025-05-03 08:16:53] - logger:_log - DEBUG - Generating formatted prompt
[2025-05-03 08:16:53] - logger:_log - DEBUG - Generating prompt for question: what is the number of deposits in ohio?...
[2025-05-03 08:16:53] - logger:_log - DEBUG - Retrieved database schema with 128 tokens
[2025-05-03 08:16:53] - logger:_log - DEBUG - Tokenizing input
[2025-05-03 08:16:53] - logger:_log - DEBUG - Moving inputs to GPU
[2025-05-03 08:16:53] - logger:_log - INFO - Generating SQL with model
[2025-05-03 08:17:33] - logger:_log - DEBUG - Decoding model output
[2025-05-03 08:17:33] - logger:_log - DEBUG - Extracting SQL query from raw output
[2025-05-03 08:17:33] - logger:_log - DEBUG - Extracting SQL from model output
[2025-05-03 08:17:33] - logger:_log - DEBUG - Running Teradata-specific post-processing
[2025-05-03 08:17:33] - logger:_log - DEBUG - Applying Teradata post-processing to SQL query
[2025-05-03 08:17:33] - logger:_log - DEBUG - Teradata post-processing completed
[2025-05-03 08:17:33] - logger:_log - DEBUG - Successfully extracted SQL: SELECT COUNT(transaction_type)
FROM raven.transact...
[2025-05-03 08:17:33] - logger:_log - INFO - Successfully generated SQL query: SELECT COUNT(transaction_type)
FROM raven.transact...
[2025-05-03 08:17:33] - logger:_log - INFO - NL2SQL translation completed in 00:00:39 - Query: what is the number of deposits in ohio?...
[2025-05-03 08:17:39] - PngImagePlugin:call - DEBUG - STREAM b'IHDR' 16 13
[2025-05-03 08:17:39] - PngImagePlugin:call - DEBUG - STREAM b'IDAT' 41 5539
[2025-05-03 08:17:39] - PngImagePlugin:call - DEBUG - STREAM b'IHDR' 16 13
[2025-05-03 08:17:39] - PngImagePlugin:call - DEBUG - STREAM b'IDAT' 41 5539
[2025-05-03 08:17:39] - logger:_log - INFO - Operation 'Query execution' started - Details: {'query': "SELECT COUNT(transaction_type)\nFROM raven.transactions\nWHERE transaction_type = 'Deposit'\nAND branch..."}
[2025-05-03 08:17:49] - logger:_log - INFO - Operation 'Query execution' completed - Details: {'rows_returned': 1}
[2025-05-03 08:17:49] - logger:_log - INFO - SQL execution completed in 00:00:09 - Query: SELECT COUNT(transaction_type)
FROM raven.transact...
